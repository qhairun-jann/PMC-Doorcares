<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Unit info </title>
    <meta name="description" content="A description.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" rel="stylesheet" />
    <link href="assets/css/style.css" rel="stylesheet" />

</head>

<body class="p-0 bg-dark h-100 text-center text-white bg-dark">
    <div class="sticky-top fixedtop" includehtml="navbar.html"></div>
    <main class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <section class="mb-5">
            <div class="container mt-2">
                <div class="row justify-content-center">
                    <div class="col-sm-10">
                        <h1 class="h1 text-white text-center">Unit Info</h1>
                        <hr />
                        <form class="needs-validation text-start">

                            <div class="row g-4 mt-0">
                                <div class="col-6 col-md-4">
                                    <label for="username" class="form-label">Block</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="passport" class="form-label">Level/Floor</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="unit-number" class="form-label">Unit number</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="listing-ID" class="form-label">Listing ID</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="furnishing" class="form-label">Furnishing</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="type" class="form-label">Type</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="Sqft" class="form-label">Sqft</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="bedrooms" class="form-label"> Bedrooms </label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="utility-room" class="form-label">Utility room</label>
                                    <select class="form-control form-select" id="status">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>

                                <div class="col-6 col-md-4">
                                    <label for="bathroom" class="form-label">Bathroom</label>
                                    <select class="form-control form-select" id="bathroom">
                                        <option value="" selected> - </option>
                                    </select>
                                </div>






                            </div>
                            <hr class="my-5">
                            <div class="row g-4 mt-0">
                                <fieldset class="col-6 col-md-4" id="fieldset-car">
                                    <label for="car-part-number" class="form-label position-relative ">Car part number
                                        <!-- <button class="btn btn-outline-info btn-sm position-absolute"
                                            style="transform: translate(6px, -8px);" onclick="handleAddSlot(event)">
                                            +Add slot
                                        </button> -->
                                    </label>
                                    <!-- <select class="form-control form-select" id="car-park-slot">
                                        <option value="1" selected> 1 </option>
                                        <option value="2" > 2 </option>
                                        <option value="3" > 3 </option>
                                        <option value="4" > 4 </option>
                                    </select> -->
                                    <input type="number" class="form-control" id="car-part-number" value="1" min="1"
                                        max="10" onchange="handleChangeCarSlot(event)">
                                </fieldset>

                                <fieldset class="col-6 col-md-4 slot__number">
                                    <label for="car-park-slot-1" class="form-label">Cark park slot 1</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="car-park-slot-1 ">
                                    </div>
                                </fieldset>
                            </div>
                            <hr class="my-5">
                            <div class="row mt-0 g-4">

                                <fieldset class="col-12 col-md-6 col-xl-4">
                                    <label for="market" class="form-label">Fit for market</label>
                                    <div class="input-group">
                                        <select class="form-control form-select" id="market">
                                            <option value=""> - </option>
                                            <option value="Yes"> Yes </option>
                                            <option value="No"> No </option>
                                        </select>
                                        <!-- <input type="number" class="form-control" id="car-park-slot"> -->
                                    </div>
                                </fieldset>

                                <fieldset class="col-12 col-md-6 col-xl-4">
                                    <label for="upgrade1" class="form-label">If no, then is Landlord willing to
                                        upgrade? </label>
                                    <div class="input-group">
                                        <select class="form-control form-select" id="upgrade1">
                                            <option value=""> - </option>
                                            <option value="Yes"> Yes </option>
                                            <option value="No"> No </option>
                                        </select>
                                        <!-- <input type="number" class="form-control" id="car-park-slot"> -->
                                    </div>
                                </fieldset>

                                <fieldset class="col-12 col-md-6 col-xl-4">
                                    <label for="upgrade2" class="form-label">Landlord willing to upgrade?</label>
                                    <div class="input-group">
                                        <select class="form-control form-select" id="upgrade2">
                                            <option value=""> - </option>
                                            <option value="Yes"> Yes </option>
                                            <option value="No"> No </option>
                                        </select>
                                        <!-- <input type="number" class="form-control" id="car-park-slot"> -->
                                    </div>
                                </fieldset>

                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </section>
        <footer class="mt-auto text-white-50">
            <p>&copy; <span id="year"></span>
                Copyright by Jann Properties</p>
        </footer>
    </main>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/includefile.js"></script>
    <script>
        includehtml();

        function handleAddSlot(event) {
            event.preventDefault()
        }


        function handleChangeCarSlot(event) {
            event.preventDefault()
            carPartNumberElement = event.target
            carSlotCount = carPartNumberElement.value
            const arraySlotNumber = document.querySelectorAll(".slot__number");
            if (arraySlotNumber.length < 0) {
                return
            }

            carPartNumberElement = document.getElementById("fieldset-car")

            async function AddLoop() {
                async function removeLoop() {
                    let indexx = null
                    for (let i = 0; i < arraySlotNumber.length; i++) {
                        arraySlotNumber[i].remove();
                        indexx = i
                    }
                    return indexx
                }

                await removeLoop();
                for (let index = 0; index < carSlotCount; index++) {
                    console.log('carSlotCount:', carSlotCount)
                    let fieldset = document.createElement("fieldset");
                    fieldset.classList.add("col-6", "col-md-4", "slot__number")
                    let carParkSlotELement = `<label for="car-park-slot-${index+1}" class="form-label">Cark park slot ${index+1} </label>
                        <div class="input-group">
                             <input type="text" class="form-control" id="car-park-slot-${index+1} ">
                        </div>`
                    fieldset.innerHTML = carParkSlotELement

                    // inject next to fieldset#fieldset-car html element
                    function insertAfter(newNode, existingNode) {
                        existingNode.parentNode.appendChild(newNode)
                    }
                    insertAfter(fieldset, carPartNumberElement)
                }

                return
            }
            AddLoop()



        }



    </script>
</body>

</html>